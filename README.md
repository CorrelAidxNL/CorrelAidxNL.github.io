# CorrelAid NL Website

This is the repository associated with (the revamp of) our [website](https://correlaid.nl/).
It is built using [Jekyll](https://jekyllrb.com/)
and based on the [Vonge Template](https://jazzed-kale.cloudvent.net/) theme.

## Approach

Our original website was made by forking the main CorrelAid website made using [Hugo](https://gohugo.io/).
This was a quick way to get a website up and running with a familiar look and feel.
In 2022, we decided to reboot the website.
With the existing codebase being somewhat messy, we decided to start again from scratch.
The choice to use Jekyll, rather than Hugo, was motivated by its built-in support for website hosting via GitHub.

### How It Works

Our website is hosted with [GitHub Pages](https://pages.github.com/).
It allows us to host a website for free for our [GitHub organisation](https://github.com/CorrelAidxNL).
A special [.io repo](https://github.com/CorrelAidxNL/CorrelAidxNL.github.io) is made.
This creates our [github.io](https://CorrelAidxNL.github.io) website.
We use our DNS service to make this appear under our desired URL, rather than the github one.

This repo holds the code base for generating the website and is where we make changes to it.
It follows a familiar CI/CD framework.
The idea that any commits to the master branch trigger a rebuild of the website at the _.io repo_.
The _.io repo_ should be seen in this context more as the deployment environment rather than a regular repo.
It is **not** to be changed manually.

As mentioned in the intro, the website is made using Jekyll.
This is a static website generator.
Rather than having to code HTML explicitly or have them generated by the server on the fly,
this approach allows us to work with templates, but all pages are generated upfront when building and deploying.
We are using a free Jekyll template made by [Cloud Cannon](https://cloudcannon.com/).
However, we are not using their interface or services to maintain the website.

### Updating the Website

If it is your first time updating the website, please first check the section _Getting Started_ below.
The basic recipe for making a change is as follows.

1. Create a new branch on this repo and checkout this new branch locally.
2. Make the desired changes and test locally, i.e. build and deploy on _localhost_. 
The cmd line command for this is "bundle exec jekyll serve".
You need to execute this from the 'site' sub-folder rather than the root directory.
3. Push the changes to origin and merge to master branch.
4. Check that your changes are visible in the live website.

Details about how to add certain standard content should be added here.

### General Tips

Sometimes websites don't work as you expect, welcome to the world of front end development! Here are some tips.

- **Cache**. To avoid continuously downloading the same files, browsers make extensive use of caching.
  This means that a change to an existing file will not be immediately visible,
  since the browser will simply serve the old version of that file from the cache rather than downloading the new one.
  To see you changes when this happens, do a hard refresh of the page (e.g. ctrl-shirt-r for Firefox on Windows.)

### Getting Started

Certain standard items from the data science toolkit are assumed here.

- GitHub account with relevant access rights.
- Basic familiarity with git.
- Basic familiarity with [markdown](https://daringfireball.net/projects/markdown/).

In addition, experience with html and css is helpful, but not a must.
The main specific thing to do is to get set-up and familiar with [Jekyll](https://jekyllrb.com/docs/).
If you want to have some hands-on practice with Jekyll,
I suggest making your own personal GitHub pages website, which uses an identical approach.

Beyond installing Jekyll, there are two other dependencies for the specific template we are using.
This template uses Node.js which you can download and install from [here](https://nodejs.org/en/download/).
You may also need to set up [Jekyll Watch](https://github.com/CloudCannon/jekyll-watch),
but whether this is truly necessary is still to be verified by a new user.
You of course need to clone this repo, and then make sure you can build and run the website locally.

If you want to be able to make more significant changes,
it might also be good to check out the [codebase](https://github.com/CloudCannon/vonge-jekyll-bookshop-template) for the theme we are using.

An alternative approach to installing involved the following and is included here in case of further assisatance to new users.

```bash
$ npm install
```

Install the Jekyll dependencies with [Bundler](http://bundler.io/):

```bash
$ cd site
$ npm run install-jekyll
```

Run the website:

```bash
$ npm start
```

## Remaining Theme Migration Items

To be deleted as and when completed. 
There items are specific to the change from Feeling Responsive to Vonge.

* Add Events page (with link in menubar)
* Add YouTube link (same as Twitter, Facebook etc)
* Footer should reference Correlaid Netherlands, with Vonge Template by Cloud Cannon at the end.